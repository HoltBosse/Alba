import{N as o,m as t,aF as i,aJ as s}from"../index-Bk8j52k6.mjs";var e=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/,n=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/g,a=o=>o.match(e),l=(o,t)=>t?"https://www.youtube-nocookie.com/embed/videoseries?list=":o?"https://www.youtube-nocookie.com/embed/":"https://www.youtube.com/embed/",r=o.create({name:"youtube",addOptions:()=>({addPasteHandler:!0,allowFullscreen:!0,autoplay:!1,ccLanguage:void 0,ccLoadPolicy:void 0,controls:!0,disableKBcontrols:!1,enableIFrameApi:!1,endTime:0,height:480,interfaceLanguage:void 0,ivLoadPolicy:0,loop:!1,modestBranding:!1,HTMLAttributes:{},inline:!1,nocookie:!1,origin:"",playlist:"",progressBarColor:void 0,width:640,rel:1}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},start:{default:0},width:{default:this.options.width},height:{default:this.options.height}}},parseHTML:()=>[{tag:"div[data-youtube-video] iframe"}],addCommands(){return{setYoutubeVideo:o=>({commands:t})=>!!a(o.src)&&t.insertContent({type:this.name,attrs:o})}},addPasteRules(){return this.options.addPasteHandler?[s({find:n,type:this.type,getAttributes:o=>({src:o.input})})]:[]},renderHTML({HTMLAttributes:o}){const t=(o=>{const{url:t,allowFullscreen:i,autoplay:s,ccLanguage:e,ccLoadPolicy:n,controls:r,disableKBcontrols:p,enableIFrameApi:u,endTime:c,interfaceLanguage:d,ivLoadPolicy:h,loop:g,modestBranding:m,nocookie:b,origin:y,playlist:w,progressBarColor:L,startAt:v,rel:f}=o;if(!a(t))return null;if(t.includes("/embed/"))return t;if(t.includes("youtu.be")){const o=t.split("/").pop();return o?`${l(b)}${o}`:null}const B=/(?:(v|list)=|shorts\/)([-\w]+)/gm.exec(t);if(!B||!B[2])return null;let $=`${l(b,"list"===B[1])}${B[2]}`;const P=[];return!1===i&&P.push("fs=0"),s&&P.push("autoplay=1"),e&&P.push(`cc_lang_pref=${e}`),n&&P.push("cc_load_policy=1"),r||P.push("controls=0"),p&&P.push("disablekb=1"),u&&P.push("enablejsapi=1"),c&&P.push(`end=${c}`),d&&P.push(`hl=${d}`),h&&P.push(`iv_load_policy=${h}`),g&&P.push("loop=1"),m&&P.push("modestbranding=1"),y&&P.push(`origin=${y}`),w&&P.push(`playlist=${w}`),v&&P.push(`start=${v}`),L&&P.push(`color=${L}`),void 0!==f&&P.push(`rel=${f}`),P.length&&($+=`${"list"===B[1]?"&":"?"}${P.join("&")}`),$})({url:o.src,allowFullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,controls:this.options.controls,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,nocookie:this.options.nocookie,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,startAt:o.start||0,rel:this.options.rel});return o.src=t,["div",{"data-youtube-video":""},["iframe",i(this.options.HTMLAttributes,{width:this.options.width,height:this.options.height,allowfullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,rel:this.options.rel},o)]]},...t({nodeName:"youtube",allowedAttributes:["src","width","height","start"]})}),p=r;export{r as Youtube,p as default};
